// map.cpp

#include "map.h"
#include <iostream>

Maps::Maps() {
    // Initialize with some example maps
    map_list.push_back(Map("Sunny Meadow", Weather::SUNNY, TimeOfDay::DAY));
    map_list.push_back(Map("Rainy Forest", Weather::RAINY, TimeOfDay::NIGHT));
    map_list.push_back(Map("Snowy Mountain", Weather::SNOWY, TimeOfDay::DAY));
}

void Maps::chooseMap() const {
    std::cout << "Available Maps: \n";
    for (size_t i = 0; i < map_list.size(); ++i) {
        const Map& map = map_list[i];
        std::cout << i + 1 << ". " << map.getName() << " (" 
                  << weatherToString(map.getWeather()) << ", "
                  << timeOfDayToString(map.getTimeOfDay()) << ")\n";
    }

    std::cout << "Enter the number of your choice: ";
    int choice;
    std::cin >> choice;

    // Handle invalid input
    handleMapChoice(choice);
}

void Maps::handleMapChoice(int choice) const {
    if (choice < 1 || choice > static_cast<int>(map_list.size())) {
        std::cout << "Invalid choice. Please try again.\n";
    } else {
        const Map& selectedMap = map_list[choice - 1];
        std::cout << "You have chosen: " << selectedMap.getName() << "\n";
    }
}

std::string Maps::weatherToString(Weather weather) {
    switch (weather) {
        case Weather::SUNNY: return "Sunny";
        case Weather::RAINY: return "Rainy";
        case Weather::SNOWY: return "Snowy";
        default: return "Unknown";
    }
}

std::string Maps::timeOfDayToString(TimeOfDay time_of_day) {
    switch (time_of_day) {
        case TimeOfDay::DAY: return "Day";
        case TimeOfDay::NIGHT: return "Night";
        default: return "Unknown";
    }
}
